# 2022年のオープンCAE活動報告．

2022年のオープンCAE関連の活動プロジェクトをこちらの表に示します．

## PyVista チュートリアル．

### 概要．
チュートリアルの背景について説明します．
SciPy2022 Conferenceで3次元可視化ライブラリPyVistaのチュートリアルを行いました．
4時間の講義と演習を通じてPythonにおける3次元可視化のハイライトを紹介することを目的としています．
PyVista は汎用の3D可視化ライブラリで，500以上のオープンソースプロジェクトや多くのクローズドソースプロジェクトで， コンピュータ支援エンジニアリングや地球物理学から火山やデジタルアートワーク まであらゆるものの可視化に利用されています．
PyVistaは， Visualization Toolkit (VTK) にPythonic APIを公開し，VTKの予備知識がなくてもすぐに使えるツールを提供します．
PyVistaの既存のJupyterノートブックのサンプルの多くを通じて，インターネットアクセスとコンピュータがあれば誰でもアクセスできる実践的なチュートリアルと，人気のある3D可視化の使用例に焦点を当てた包括的な概要を通じて新しい教材を提供します．

### チュートリアルの説明．
チュートリアルの説明をします．
PyVistaを使って，一般的な形式のさまざまなデータセットから3Dビジュアライゼーションを作成できます．
PyVistaのクラスとデータ構造の概要を実例を交えて解説します．
PyVistaの様々なフィルタや機能を使いこなすことができます．
PyVistaで使用されている，または使用できるPythonライブラリ（meshio，trimeshなど）を知ります．
このチュートリアルは，Pythonの基本的なユーザーから上級のパワーユーザーまで，あらゆる分野のデータを可視化したいと考えるすべての人を対象にしています．
Pythonの基本的な知識を持っていること．Jupyter Labをあなたのマシンにインストールし，働させることができること．
中級者は NumPy や， trimesh や meshio など，PyVista と互換性のあるライブラリに慣れておくとよいでしょう．
上級者はVisualization Toolkit (VTK)，一般的なデータサイエンス，QtのようなGUIフレームワークに精通している必要があります．

### チュートリアルスケジュール．
チュートリアルスケジュールについて説明します．
はじめにではPyVistaを使ってPythonで3Dビジュアライゼーションを行います．
所要時間は20分です．
基本的な使い方ではpyvista.examples モジュールと外部ファイルを使って，3Dデータを読み込んでプロットします．
所要時間は20分です．
メッシュとはではPyVistaのデータ型の基本を学び，一般的な3Dファイル形式を開いてデータを3Dで可視化する方法を紹介します．
プロットオプションとアニメーションではPyVistaプロッティングAPIの多くの機能を実演し，魅力的な3Dビジュアリゼーションとタッチオンアニメーションを作成します．
所要時間は20分です．
フィルタではメッシュの解析と変更を行うためのPyVistaフィルタAPIのデモを行います．
所要時間は15分です．
PyVistaの活用ではPyVistaがすでにいくつかのプロジェクトで使用されており，あらゆる可視化に使用できることを紹介します．
所要時間は15分です．
PyVistaとVTKではPyVistaがVTKをどのように使っているか，そして両者の長所をどのように組み合わせられるかを紹介します!
所要時間は20分です．
PyVistaとSphinxではPyVistaを活用して，素晴らしいインタラクティブなWebドキュメントを作成することができます．
所要時間は20分です．
PyVistaのウィジェットでは様々な便利なウィジェットを使って，PyVistaを使います．
所要時間は20分です．
PyVistaとQTではPyVista を使用して， pyinstaller と Qt フレームワークを使用したスタンドアロンアプリケーションを作成する方法を説明します．
所要時間は15分です．

## ParaViewドキュメント翻訳．

Read The Docsというサイトで，ParaViewの公式ドキュメントを日本語で提供するプロジェクトです．
ParaView は，2次元および3次元のデータセットを可視化するためのオープンソースのアプリケーションです．
ParaViewが扱うことのできるデータセットのサイズは，アプリケーションを実行するアーキテクチャによって大きく異なります．
ParaViewがサポートするプラットフォームは，シングルプロセッサのワークステーションからマルチプロセッサの分散メモリ型スーパーコンピュータやワークステーション・クラスタまで多岐にわたります．
並列マシンを使用することで，ParaView は非常に大きなデータセットを並行して処理し，後でその結果を収集することができます．
現在までに，ParaView は数十億の非構造セルを処理し，1兆以上の構造セルを処理することが実証されています．
ParaView の並列フレームワークは10万以上の処理コアで実行されています．
ParaViewの公式ドキュメントで使用されているSphinxの国際化機能を使用しています．
本ガイドは3巻に分かれています．
ユーザーズガイド の 1 章 から 8 章 では，ParaView によるデータ解析と可視化のさまざまな側面をカバーしています．
リファレンスマニュアル の 1 章 から 12 章 では，UIとスクリプトAPIのさまざまなコンポーネントについて詳しく説明しています．
チュートリアル は 自習チュートリアル と クラスルームチュートリアル に分かれています．
自習チュートリアル の 1 章 から 5 章 では，ParaView ソフトウェアとその歴史を紹介し，基本的な使用法，バッチPythonスクリプト，および大規模モデルの視覚化をカバーする ParaView の使用方法に関する演習を提供します．
クラスルームチュートリアル の 1 章 から 18 章 では，ParaView の使用方法に関する初級，応用，Python，バッチ，およびターゲットを絞ったチュートリアルレッスンを提供し，Sandia国立研究所内で3時間のクラスとして提示されます．

### ParaViewチュートリアル．

チュートリアル は 自習チュートリアル と クラスルームチュートリアル に分かれています．
自習チュートリアル の 1 章 から 5 章 では，ParaView ソフトウェアとその歴史を紹介し，基本的な使用法，バッチPythonスクリプト，および大規模モデルの視覚化をカバーする ParaView の使用方法に関する演習を提供します．
クラスルームチュートリアル の 1 章 から 18 章 では，ParaView の使用方法に関する初級，応用，Python，バッチ，およびターゲットを絞ったチュートリアルレッスンを提供し，Sandia国立研究所内で3時間のクラスとして提示されます．


## FEABeR．

FEABeRはオープンソースのFEAコードを使用したベンチマーク結果を公開するプロジェクトです．
FEABeRは"Finite Element Analysis Benchmark Report"の略称です．
このプロジェクトではオープンソ－スFEAコードの検証結果を入力データともに公開し，オープンソースコードの品質を担保することを目的としています．
FEABeRはこの目的を達成するために次の成果を公開します．
検証問題の概要
実行結果と参照値の比較
各検証対象コードの入力ファイル
このプロジェクトは誰でも参加できます．参加は次の形でできます．

検証問題の提案は issue から行えます．
質問や相談は Discussions から行えます．
検証結果やインプットの掲載は Pull Request から行えます．
FEABeRのコンテンツはクリエイティブ・コモンズ 表示 4.0 国際 ライセンスの下に公開されています．

### 検証対象ソフトウェア．

本プロジェクトで使用するソフトウェアの一覧を示します．
各ソフトウェアについてはそれぞれのページをご覧ください．

CalculiXは有限要素法を使用したオープンソースの解析コードです．
CalculiXは有限要素モデルの構築，計算，ポスト処理ができます．
CalculiXはGUIであるcgxとソルバであるccxが提供されています．

Code-AsterCode-AsterはフランスのeDFが開発，公開しているオープンソースのマルチフィジックス解析ソルバ―です．
線形構造解析だけでなく，非線形構造，熱，音響など様々な分野の計算が可能です．
プリポストを統合したSalome-Mecaも公開されており，商用CAEソフトウェアと同様の操作で計算できます．

FrontISTRはオープンソースの大規模並列計算に対応するオープンソースの構造解析ソルバです．
WindowsやLinuxのPCクラスタおよび超並列のスパコンにも対応可能です．
FrontISTRはこちらのサイトで公開されています．

GetFEMは，共同開発に元にしたオープンソースのライブラリです．
線形および非線形偏微分方程式の潜在的に連成システムを有限要素法([GetFEM2020]の基本原理を見る)で解くための最も柔軟なフレームワークを提供することを目指しています．
GetFEMにはいくつかのスクリプト言語(Python，Octave，Scilab，Matlab)インターフェイスがあり，ほとんどすべての機能をスクリプトを書くだけで使うことができます．

### ベンチマーク結果

Cook membrane 問題は古典的なベンチマークテストであり，非圧縮性条件下でのせん断固定挙動をチェックするために使用されます．
この解析では，0.3333と0.4999の異なるポアソン比値を持つ線形材料モデルをテストしました．
特に後者の値では,解の計算が困難になることが予想されます．
このベンチマークのもう1つの目的は，FEコードがせん断方向の領域に分布した力を適用できるかどうかをチェックすることです．
圧力の定義 (領域上の垂直力) は，すべてのFEコードの中で非常に一般的な荷重条件ですが，面に接する方向の変形はそれほど一般的ではありません．
本解析では，三次元形状をモデル化しました．
文献ではこのベンチマークにはいくつかのバリエーションがありますが，この例では5 mmの厚さが想定されています．

Elliptic Membraneは圧力を負荷された楕円形状に発生する応力を確認するベンチマークです．
The Standard NAFEMS BenchmarksにLE1として掲載されています．
ベンチマークに使用するメッシュパターンはCoarse modelとFine modelの2種類としました．
使用した要素は1次要素，2次要素およびそれらの低減要素です．

Linear elastic solidは圧力を負荷された楕円形状に発生する応力を確認するベンチマークです．
The Standard NAFEMS BenchmarksにLE10として掲載されています．
ベンチマークに使用するメッシュパターンはCoarse modelとFine modelの2種類としました．
使用した要素は6面体の1次要素，2次要素です．
Coarse modelのメッシュは次の通りです．

Elliptic Membraneは圧力を負荷された楕円形状に発生する応力を確認するベンチマークです．
The Standard NAFEMS BenchmarksにLE1として掲載されています．

## 書籍出版．

『Pythonによる有限要素法実装ノート』というタイトルで書籍を出版しました．
本書は数値解析手法のひとつである有限要素法をPythonによって実装するための方法の解説書です．
具体的にはPythonを使って，有限要素法のメッシュ作成やソルバ実行や結果の可視化が，ライブラリを使ってできることを目指します．
ただし，Pythonの基礎知識や有限要素法の理論の基礎は本書では扱いません．
本書では次のような人を対象としています．
Pythonでデータ分析をしていて，Pythonによる有限要素法の実装について興味がある人．
上記についてフルスクラッチではなく，あくまでライブラリを使いこなしたい人．
有限要素法の入門書を読んだ人(まったくの初心者は対象外です)．
NumpyやMatplotlibのように，Pythonicに有限要素法解析と可視化をしたい人．

本書を読むにあたり，次のような知識が必要となります．

* LinuxとPythonについての基礎知識
* 有限要素法の基礎知識

### 環境構築

まずは実装ができる環境を整えていきましょう．
本書ではBinderという無料サービスを使用して，有限要素法の実装を説明していきます．

### 1次元解析

前の章では，実行環境の起動方法を説明しました．
この章では，自分で書いたスクリプトファイルで解析を実行する方法を説明します．

### 2次元解析

GetFEMを使用して2次元の片持ちはりの剛性方程式を解きます．

### 3次元解析

GetFEMを使用して3次元はりの固有値解析を行います．

### 振動解析

この章では1自由度減衰系を使用した振動解析を行います．
Newmark-β法の使い方と陽に行列を定義する方法を学びます．

### ローカルでの環境構築方法

GetFEMとPyVistaをローカルにインストールする方法について説明します．
以下の環境構築では構築時点の各パッケージの安定版がインストールされます．
そのため，本書と異なる結果が出力される場合があります．
本書の結果を確認する際にはBinderの利用を推奨します．

